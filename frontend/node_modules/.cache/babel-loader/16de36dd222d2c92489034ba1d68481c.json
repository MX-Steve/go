{"remainingRequest":"/data/vssh/frontend/node_modules/babel-loader/lib/index.js!/data/vssh/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/data/vssh/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/data/vssh/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/data/vssh/frontend/src/components/HelloWorld2.vue?vue&type=template&id=e64a895c","dependencies":[{"path":"/data/vssh/frontend/src/components/HelloWorld2.vue","mtime":1643006726288},{"path":"/data/vssh/frontend/babel.config.js","mtime":1642990612224},{"path":"/data/vssh/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1642990596778},{"path":"/data/vssh/frontend/node_modules/babel-loader/lib/index.js","mtime":1642990597524},{"path":"/data/vssh/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1642990596737},{"path":"/data/vssh/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1642990596778},{"path":"/data/vssh/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1642990595732}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb25zb2xlIiwKICBpZDogInRlcm1pbmFsIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEpOwp9"},{"version":3,"sources":["/data/vssh/frontend/src/components/HelloWorld2.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC,S;AAAU,EAAA,EAAE,EAAC;;;uBAAxB,mBAAA,CAAyC,KAAzC,EAAA,UAAA,C","sourcesContent":["<template>\n  <div class=\"console\" id=\"terminal\"></div>\n</template>\n<script>\nimport { Terminal } from \"xterm\";\nimport { FitAddon } from \"xterm-addon-fit\";\nimport \"xterm/css/xterm.css\";\n\nexport default {\n  name: \"webssh2\",\n  data() {\n    return {\n      term: null,\n      terminalSocket: null,\n      order: \"\",\n    };\n  },\n  methods: {},\n  mounted() {\n    const fitPlugin = new FitAddon();\n    term.loadAddon(fitPlugin);\n    term.open(container.current);\n    term.write(\"WebSocket connecting ... \");\n    const protocol = window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const socket = new WebSocket(\"ws://127.0.0.1:8000/web/\");\n    socket.onmessage = (e) => {\n      const reader = new window.FileReader();\n      reader.onload = () => term.write(reader.result);\n      reader.readAsText(data, \"utf-8\");\n    };\n    socket.onopen = () => {\n      term.write(\"ok\");\n      term.focus();\n      fitPlugin.fit();\n    };\n    socket.onclose = (e) => {\n      setTimeout(() => term.write(\"\\r\\nConnection is closed.\\r\\n\"), 200);\n    };\n    term.onData((data) => socket.send(JSON.stringify({ data })));\n    term.onResize(({ cols, rows }) =>\n      socket.send(JSON.stringify({ resize: [cols, rows] }))\n    );\n    const resize = () => fitPlugin.fit();\n    window.addEventListener(\"resize\", resize);\n  },\n};\n</script>"],"sourceRoot":""}]}